---
import HeadSEO from "@/components/core/HeadSEO.astro";
import Header from "@/components/core/Header.astro";
import Footer from "@/components/core/Footer.astro";

import { Image } from "astro:assets";
import { Button } from "@/components/ui/button";
import KittyAstronaut from "@/assets/KittyAstronaut.svg";

// Remove the import statement for BaseLayoutProps

interface BaseLayoutProps {
  className?: string;
}
import { capitalizeFirstLetter } from "@/lib/utils";

import { LOCALE, SITE } from "config";

// Static or dynamic props
const title = "BBSS Hack Club";
const description = "The BBSS Hack Club Website.";
const ogImage = "";

// Use as BaseLayoutProps to ensure type safety
const { className } = Astro.props as BaseLayoutProps;
---

<!doctype html>
<html lang={`${LOCALE.lang ?? "en"}`} class="scroll-smooth">
  <head>
    <HeadSEO
      title={`${title ? capitalizeFirstLetter(title) : SITE.title}`}
      description={description}
      ogImage={ogImage}
    />
    <style>
      .hidden {
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
      }
      .visible {
        opacity: 1;
      }
    </style>
  </head>
  <body class="bg-background text-foreground font-sans">
    <div class="flex flex-col min-h-screen">
      <Header class="bg-background" />
      <main class="flex flex-1 flex-col justify-center items-center px-4">
        <!-- Hero Content -->
        <div class="list pattern py-6 w-full md:w-3/4 md:max-w-8xl min-h-dynamic_hero flex flex-col items-center justify-center ${className}">
          <div class="flex flex-col-reverse md:flex-row">
            <div class="flex flex-col gap-4 md:w-1/2 p-8 justify-center items-center md:items-start">
              <h1 class="text-pretty text-center md:text-left md:text-4xl lg:text-5xl tracking-wide">
                Welcome to <i class="text-primary">BBSS Hack Club</i>
              </h1>
              <a href="/getting-started" class="py-4">
                <Button size="lg" className="rounded-lg">
                  <h4 class="text-lg">Get started</h4>
                </Button>
              </a>
            </div>
          </div>
        </div>
        <!-- Text that appears on scroll -->
        <div id="scroll-text" class="hidden text-center text-lg mt-4">
          A place for makers
        </div>
      </main>
      <Footer class="border-t border-border bg-background" />
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const scrollText = document.getElementById('scroll-text');
        const heroContent = document.querySelector('.min-h-dynamic_hero');
        
        window.addEventListener('scroll', function() {
          const heroBottom = heroContent ? (heroContent as HTMLElement).offsetHeight : 0;
          
          if (scrollText) {
            if (window.scrollY > heroBottom) {
              scrollText.classList.add('visible');
              scrollText.classList.remove('hidden');
            } else {
              scrollText.classList.add('hidden');
              scrollText.classList.remove('visible');
            }
          }
        });
      });
    </script>
  </body>
</html>
